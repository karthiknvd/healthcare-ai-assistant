<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthcare AI Assistant</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/style.css">
</head>
<body>

<!-- SIDEBAR -->
<aside class="sidebar">
    <div class="sidebar-glow"></div>

    <div class="logo-area">
        <div class="logo-row">
            <div class="logo-icon-wrap">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5">
                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                </svg>
            </div>
            <div>
                <div class="logo-name">Healthcare AI</div>
                <div class="logo-sub">Your Wellness Companion</div>
            </div>
        </div>
    </div>

    <div class="sidebar-nav">
        <div class="nav-section-title" style="margin-top:4px">What I can help with</div>
        <div class="capability-grid">
            <div class="cap-item"><span class="cap-icon">ğŸ©º</span><span class="cap-label">Symptom Analysis</span></div>
            <div class="cap-item"><span class="cap-icon">ğŸ’Š</span><span class="cap-label">Medications & Dosage</span></div>
            <div class="cap-item"><span class="cap-icon">ğŸ§¬</span><span class="cap-label">Disease Information</span></div>
            <div class="cap-item"><span class="cap-icon">ğŸ¥—</span><span class="cap-label">Nutrition & Diet</span></div>
            <div class="cap-item"><span class="cap-icon">ğŸ§ </span><span class="cap-label">Mental Health</span></div>
            <div class="cap-item"><span class="cap-icon">ğŸ©¹</span><span class="cap-label">First Aid</span></div>
            <div class="cap-item"><span class="cap-icon">ğŸ”¬</span><span class="cap-label">Lab Results</span></div>
            <div class="cap-item"><span class="cap-icon">ğŸ‘¶</span><span class="cap-label">Pediatric Care</span></div>
        </div>

        <div class="nav-section-title">Quick questions</div>
        <div class="quick-ask-section">
            <button class="quick-ask-btn" data-q="What are common signs of dehydration?">
                <span class="q-icon">ğŸ’§</span> Signs of dehydration?
            </button>
            <button class="quick-ask-btn" data-q="When should I go to the emergency room vs urgent care?">
                <span class="q-icon">ğŸ¥</span> ER vs urgent care?
            </button>
            <button class="quick-ask-btn" data-q="What are natural ways to lower blood pressure?">
                <span class="q-icon">â¤ï¸</span> Lower blood pressure naturally?
            </button>
            <button class="quick-ask-btn" data-q="What does a normal CBC blood test check for?">
                <span class="q-icon">ğŸ”¬</span> What does CBC test check?
            </button>
        </div>
    </div>

    <div class="disclaimer-box">
        <strong>âš ï¸ Informational only.</strong> This AI provides health information, not medical diagnosis. Always consult a qualified healthcare professional for medical decisions.
    </div>

    <div class="sidebar-bottom">
        <button class="new-chat-btn" id="newChatBtn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            New Conversation
        </button>
    </div>
</aside>

<!-- MAIN -->
<main class="main">
    <div class="top-bar">
        <div class="status-pill">
            <div class="pulse-dot"></div>
            AI Assistant Online
        </div>
        <div class="top-actions">
            <button class="icon-btn" id="clearBtn">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14H6L5 6"/><path d="M10 11v6m4-6v6"/>
                </svg>
                Clear
            </button>
        </div>
    </div>

    <div class="chat-area hidden" id="chatArea"></div>

    <div class="empty-state" id="emptyState">
        <div class="empty-hero-icon">ğŸ¥</div>
        <div class="empty-title">Ask me anything health-related</div>
        <div class="empty-sub">I'm a Healthcare AI Assistant and can answer detailed questions about symptoms, medications, diseases, nutrition, mental health, and much more.</div>
        <div class="example-questions">
            <button class="example-q" data-q="I have a headache, fever of 38.5Â°C and body aches for 2 days. What could this be?">
                ğŸ¤’ Headache + fever + body aches â€” what could it be?
            </button>
            <button class="example-q" data-q="Can I take ibuprofen and paracetamol together? What's the safe dosage?">
                ğŸ’Š Can I take ibuprofen and paracetamol together?
            </button>
            <button class="example-q" data-q="What are early warning signs of type 2 diabetes I should watch for?">
                ğŸ©¸ Early warning signs of type 2 diabetes?
            </button>
            <button class="example-q" data-q="I've been feeling very anxious and can't sleep. What are some evidence-based strategies to help?">
                ğŸ§  Anxiety and sleep issues â€” how to manage?
            </button>
        </div>
    </div>

    <div class="image-section hidden" id="imageSection">
        <div class="img-disclaimer">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#fb7185" stroke-width="2" style="flex-shrink:0;margin-top:1px">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                <line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
            <span>This is AI-assisted visualization for demonstration only. The image processing uses computer vision filters, not clinical diagnostic AI. Not for medical diagnosis.</span>
        </div>

        <div class="drop-zone" id="dropZone">
            <div id="dropZoneContent">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="display:block;margin:0 auto 16px">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    <circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/>
                </svg>
                <div class="drop-label">Drop a medical image here</div>
                <div class="drop-sub">X-rays, scans, skin images, etc.</div>
                <p style="font-size:11px;color:var(--text-muted);margin-top:14px">PNG Â· JPG Â· JPEG Â· BMP Â· TIFF</p>
            </div>
            <button class="browse-btn" id="browseBtn" style="margin-top:16px">Browse Image</button>
            <input type="file" id="fileInput" accept="image/*" hidden>
        </div>

        <!-- â”€â”€ Result cards with description panels â”€â”€ -->
        <div class="img-results hidden" id="imgResults">
            <div class="result-card">
                <h3>Structural Edge Map</h3>
                <img id="edgeImg" alt="Edge map">
                <div class="result-desc" id="edgeDesc"></div>
            </div>
            <div class="result-card">
                <h3>Contrast Enhanced</h3>
                <img id="contrastImg" alt="Contrast enhanced">
                <div class="result-desc" id="contrastDesc"></div>
            </div>
            <div class="result-card">
                <h3>AI Attention Heatmap</h3>
                <img id="heatmapImg" alt="Attention heatmap">
                <div class="result-desc" id="heatmapDesc"></div>
            </div>
            <div class="result-card">
                <h3>Anomaly Detection</h3>
                <img id="anomalyImg" alt="Anomaly detection">
                <div class="result-desc" id="anomalyDesc"></div>
            </div>
        </div>
    </div>

    <div class="typing-wrap hidden" id="typingWrap" style="padding: 0 28px 0;flex-shrink:0">
        <div class="typing-avatar">âš•ï¸</div>
        <div class="typing-bubble">
            <div class="td"></div><div class="td"></div><div class="td"></div>
        </div>
    </div>

    <div class="input-area">
        <div class="quick-chips" id="quickChips">
            <button class="chip" data-q="I have a headache and fever">ğŸ¤’ Headache + fever</button>
            <button class="chip" data-q="I have stomach pain and nausea">ğŸ¤¢ Stomach pain</button>
            <button class="chip" data-q="I feel very anxious and stressed">ğŸ˜° Anxiety</button>
            <button class="chip" data-q="What vitamins should I take daily?">ğŸ’Š Daily vitamins</button>
            <button class="chip" data-q="What are signs of a heart attack?">â¤ï¸ Heart attack signs</button>
        </div>

        <div class="input-row">
            <div style="position:relative">
                <button class="mode-btn" id="modeBtn" title="Switch mode">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="18 15 12 9 6 15"/>
                    </svg>
                </button>
                <div class="mode-menu hidden" id="modeMenu">
                    <div class="mode-opt active" data-mode="chat">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                        Symptom & Health Chat
                    </div>
                    <div class="mode-opt" data-mode="image">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                        Image Analysis
                    </div>
                </div>
            </div>

            <textarea id="chatInput" placeholder="Ask any health questionâ€¦ symptoms, medications, diseases, nutrition, mental healthâ€¦" rows="1"></textarea>

            <button id="sendBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                </svg>
            </button>
        </div>
    </div>
</main>

<script src="static/script.js"></script>
</body>
</html>